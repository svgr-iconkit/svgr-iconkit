{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useContrastText = useContrastText;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _tinycolor = _interopRequireDefault(require(\"tinycolor2\"));\n\nvar _useToken3 = require(\"./useToken\");\n\nvar _hooks = require(\"../core/color-mode/hooks\");\n\nfunction useContrastText(bg, color) {\n  var _useToken = (0, _useToken3.useToken)('colors', ['contrastThreshold', 'darkText', 'lightText', bg, color != null ? color : '']),\n      _useToken2 = (0, _slicedToArray2.default)(_useToken, 5),\n      contrastThreshold = _useToken2[0],\n      trueDarkText = _useToken2[1],\n      trueLightText = _useToken2[2],\n      trueBg = _useToken2[3],\n      trueColor = _useToken2[4];\n\n  var _useAccessibleColors = (0, _hooks.useAccessibleColors)(),\n      _useAccessibleColors2 = (0, _slicedToArray2.default)(_useAccessibleColors, 1),\n      accessibleColors = _useAccessibleColors2[0];\n\n  if (typeof bg !== 'string') {\n    return;\n  }\n\n  var _bg$split = bg.split('.'),\n      _bg$split2 = (0, _slicedToArray2.default)(_bg$split, 2),\n      bgThemeColorVariant = _bg$split2[0],\n      bgShade = _bg$split2[1];\n\n  var textColor = !accessibleColors && bgThemeColorVariant && themeColorsThresholdShades[bgThemeColorVariant] ? getContrastThemeColor(bgThemeColorVariant, bgShade) : getAccessibleContrastColor(contrastThreshold, trueDarkText, trueLightText, trueBg, trueColor, bg, color);\n  return textColor;\n}\n\nfunction getContrastThemeColor(bgThemeColorVariant, bgShade) {\n  var shadeThreshold = themeColorsThresholdShades[bgThemeColorVariant];\n\n  if (bgShade && shadeThreshold && (bgShade >= shadeThreshold && bgThemeColorVariant !== 'dark' || bgThemeColorVariant === 'dark' && bgShade < shadeThreshold)) {\n    return 'lightText';\n  }\n\n  return 'darkText';\n}\n\nfunction getAccessibleContrastColor(contrastThreshold, trueDarkText, trueLightText, trueBg, trueColor, bg, color) {\n  if (typeof trueBg !== 'string') {\n    trueBg = bg;\n  }\n\n  var trueContrastColor;\n  var contrastColorToken;\n  var darkTextConstrast = getContrastRatio(trueBg, trueDarkText);\n  var lightTextConstrast = getContrastRatio(trueBg, trueLightText);\n\n  if (darkTextConstrast >= contrastThreshold || darkTextConstrast > lightTextConstrast) {\n    trueContrastColor = trueDarkText;\n    contrastColorToken = 'darkText';\n  } else {\n    trueContrastColor = trueLightText;\n    contrastColorToken = 'lightText';\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var contrast = getContrastRatio(trueBg, trueColor ? trueColor : trueContrastColor);\n\n    if (contrast < 3) {\n      console.warn([\"NativeBase: The contrast ratio of \" + contrast + \":1 for \" + (color ? color : contrastColorToken) + \" on \" + bg, 'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n'));\n    }\n  }\n\n  return contrastColorToken;\n}\n\nfunction getContrastRatio(foreground, background) {\n  var lumA = (0, _tinycolor.default)(foreground).getLuminance();\n  var lumB = (0, _tinycolor.default)(background).getLuminance();\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n\nvar themeColorsThresholdShades = {\n  rose: 900,\n  pink: 900,\n  fuchsia: 800,\n  purple: 700,\n  violet: 600,\n  indigo: 500,\n  blue: 400,\n  lightBlue: 400,\n  cyan: 300,\n  teal: 300,\n  emerald: 300,\n  green: 400,\n  lime: 600,\n  yellow: 800,\n  amber: 900,\n  orange: 900,\n  red: 900,\n  warmGray: 500,\n  trueGray: 500,\n  gray: 500,\n  coolGray: 500,\n  blueGray: 500,\n  dark: 500,\n  danger: 900,\n  error: 900,\n  success: 400,\n  warning: 900,\n  muted: 500,\n  primary: 500,\n  info: 400,\n  secondary: 500,\n  light: 500\n};","map":{"version":3,"sources":["useContrastText.ts"],"names":["contrastThreshold","trueDarkText","trueLightText","trueBg","trueColor","color","accessibleColors","bgThemeColorVariant","bgShade","bg","textColor","themeColorsThresholdShades","getContrastThemeColor","getAccessibleContrastColor","shadeThreshold","darkTextConstrast","getContrastRatio","lightTextConstrast","trueContrastColor","contrastColorToken","process","contrast","console","lumA","lumB","Math","rose","pink","fuchsia","purple","violet","indigo","blue","lightBlue","cyan","teal","emerald","green","lime","yellow","amber","orange","red","warmGray","trueGray","gray","coolGray","blueGray","dark","danger","error","success","warning","muted","primary","info","secondary","light"],"mappings":"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","sourcesContent":["import Color from 'tinycolor2';\nimport { useToken } from './useToken';\nimport { useAccessibleColors } from '../core/color-mode/hooks';\n\nexport function useContrastText(bg: string, color?: string) {\n  let [\n    contrastThreshold,\n    trueDarkText,\n    trueLightText,\n    trueBg,\n    trueColor,\n  ] = useToken('colors', [\n    'contrastThreshold',\n    'darkText',\n    'lightText',\n    bg,\n    color ?? '',\n  ]);\n\n  let [accessibleColors] = useAccessibleColors();\n\n  if (typeof bg !== 'string') {\n    return;\n  }\n\n  const [bgThemeColorVariant, bgShade] = bg.split('.');\n\n  const textColor =\n    !accessibleColors &&\n    bgThemeColorVariant &&\n    themeColorsThresholdShades[bgThemeColorVariant]\n      ? getContrastThemeColor(bgThemeColorVariant, bgShade)\n      : getAccessibleContrastColor(\n          contrastThreshold,\n          trueDarkText,\n          trueLightText,\n          trueBg,\n          trueColor,\n          bg,\n          color\n        );\n\n  return textColor;\n}\n\nfunction getContrastThemeColor(bgThemeColorVariant: string, bgShade: string) {\n  let shadeThreshold = themeColorsThresholdShades[bgThemeColorVariant];\n  if (\n    bgShade &&\n    shadeThreshold &&\n    ((bgShade >= shadeThreshold && bgThemeColorVariant !== 'dark') ||\n      (bgThemeColorVariant === 'dark' && bgShade < shadeThreshold))\n  ) {\n    return 'lightText';\n  }\n  return 'darkText';\n}\nfunction getAccessibleContrastColor(\n  contrastThreshold: number,\n  trueDarkText: string,\n  trueLightText: string,\n  trueBg: string,\n  trueColor: string,\n  bg: string,\n  color?: string\n) {\n  if (typeof trueBg !== 'string') {\n    trueBg = bg;\n  }\n  let trueContrastColor;\n  let contrastColorToken;\n  let darkTextConstrast = getContrastRatio(trueBg, trueDarkText);\n  let lightTextConstrast = getContrastRatio(trueBg, trueLightText);\n\n  if (\n    darkTextConstrast >= contrastThreshold ||\n    darkTextConstrast > lightTextConstrast\n  ) {\n    trueContrastColor = trueDarkText;\n    contrastColorToken = 'darkText';\n  } else {\n    trueContrastColor = trueLightText;\n    contrastColorToken = 'lightText';\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    const contrast = getContrastRatio(\n      trueBg,\n      trueColor ? trueColor : trueContrastColor\n    );\n    if (contrast < 3) {\n      console.warn(\n        [\n          `NativeBase: The contrast ratio of ${contrast}:1 for ${\n            color ? color : contrastColorToken\n          } on ${bg}`,\n          'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.',\n          'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast',\n        ].join('\\n')\n      );\n    }\n  }\n  return contrastColorToken;\n}\nfunction getContrastRatio(foreground: string, background: string) {\n  const lumA = Color(foreground).getLuminance();\n  const lumB = Color(background).getLuminance();\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n\nconst themeColorsThresholdShades: any = {\n  rose: 900,\n  pink: 900,\n  fuchsia: 800,\n  purple: 700,\n  violet: 600,\n  indigo: 500,\n  blue: 400,\n  lightBlue: 400,\n  cyan: 300,\n  teal: 300,\n  emerald: 300,\n  green: 400,\n  lime: 600,\n  yellow: 800,\n  amber: 900,\n  orange: 900,\n  red: 900,\n  warmGray: 500,\n  trueGray: 500,\n  gray: 500,\n  coolGray: 500,\n  blueGray: 500,\n  dark: 500,\n  danger: 900,\n  error: 900,\n  success: 400,\n  warning: 900,\n  muted: 500,\n  primary: 500,\n  info: 400,\n  secondary: 500,\n  light: 500,\n};\n"]},"metadata":{},"sourceType":"script"}